(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{18:function(e,t,r){e.exports=r(30)},29:function(e,t,r){},30:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),u=r(5),i=r.n(u),s=r(17),c=r(1),o=r(12),l=r(7),d=r(8),m=r(13),p=r(9),b=r(2),f=r(14),v=r(4),h=r(3),g=(r(29),"FOUNDATION"),k="TABLEAU",E="HEART",y="CLOVER",O="TILE",N="PIKE",j=Object(h.b)((function(e,t){return{congratulation:13===e.foundation[0].cards.length&&13===e.foundation[1].cards.length&&13===e.foundation[2].cards.length&&13===e.foundation[3].cards.length}}))((function(e){var t=e.congratulation;return a.a.createElement("div",{id:"container"},a.a.createElement("div",{className:"header"},a.a.createElement(D,null),a.a.createElement(x,null)),a.a.createElement(A,null),a.a.createElement("div",{className:"congratulation",style:{visibility:t?"visible":"hidden"}},a.a.createElement("h1",null,"you did it!, check my ",a.a.createElement("a",{href:"https://github.com/jsgalvish"},"Github")," for more")))})),D=Object(h.b)((function(e,t){return{rest:e.stock.rest,flopped:e.stock.flopped}}))((function(e){var t=e.rest,r=e.flopped;return a.a.createElement("div",{className:"stock"},a.a.createElement("div",{className:"rest"},t.map((function(e){return a.a.createElement("div",{className:"cardContainer",key:JSON.stringify({suit:e.suit,number:e.number})},a.a.createElement(S,{key:JSON.stringify({suit:e.suit,number:e.number}),suit:e.suit,number:e.number,stack:!0,turned:e.turned,locked:e.locked,last:!1}))}))),a.a.createElement("div",{className:"flop"},r.map((function(e){return a.a.createElement("div",{className:"cardContainer",key:JSON.stringify({suit:e.suit,number:e.number})},a.a.createElement(S,{key:JSON.stringify({suit:e.suit,number:e.number}),suit:e.suit,number:e.number,stack:!0,turned:e.turned,locked:e.locked,last:e.last}))}))))})),x=Object(h.b)((function(e,t){return{piles:e.foundation}}))((function(e){var t=e.piles;return a.a.createElement("div",{className:"foundation"},t.map((function(e,t){return a.a.createElement("div",{className:"pile",key:t},e.cards.map((function(e){return a.a.createElement("div",{className:"cardContainer",key:JSON.stringify({suit:e.suit,number:e.number})},a.a.createElement(S,{key:JSON.stringify({suit:e.suit,number:e.number}),suit:e.suit,number:e.number,turned:e.turned,locked:e.locked,last:e.last}))})),a.a.createElement(R,{key:JSON.stringify({type:g,index:t}),pileType:g,pileIndex:t,visible:e.drop}))})))})),A=Object(h.b)((function(e,t){return{piles:e.tableau}}))((function(e){var t=e.piles;return a.a.createElement("div",{className:"tableau"},t.map((function(e,t){return a.a.createElement("div",{className:"pile",key:t},e.cards.map((function(e,t){return a.a.createElement("div",{className:"cardContainer",key:JSON.stringify({suit:e.suit,number:e.number})},a.a.createElement(S,{key:JSON.stringify({suit:e.suit,number:e.number}),suit:e.suit,number:e.number,stack:!1,turned:e.turned,locked:e.locked,last:e.last}))})),a.a.createElement(R,{key:JSON.stringify({type:k,index:t}),pileType:k,pileIndex:t,visible:e.drop}))})))})),S=function(){var e=function(e){function t(e){var r,n=e.suit,a=e.number,u=e.stack,i=e.turned,s=e.locked,c=e.last;return Object(l.a)(this,t),(r=Object(m.a)(this,Object(p.a)(t).call(this,{suit:n,number:a,stack:u,turned:i,locked:s,last:c}))).state={rotation:i?0:-180},r.turn=r.turn.bind(Object(b.a)(r)),r.dragStart=r.dragStart.bind(Object(b.a)(r)),r.dragEnd=r.dragEnd.bind(Object(b.a)(r)),r}return Object(f.a)(t,e),Object(d.a)(t,[{key:"turn",value:function(){var e=this;if(!0===this.props.stack)this.props.flop();else{if(!0===this.props.turned||this.props.locked)return;var t=null,r=function(n){var a=null;if(null!==t){var u=.4*(n-t);a=Math.min(0,e.state.rotation+u),e.setState({rotation:a})}t=n,0!==a&&requestAnimationFrame(r)}.bind(this);requestAnimationFrame(r)}}},{key:"dragStart",value:function(e){e.dataTransfer.setData("text/plain",JSON.stringify({suit:this.props.suit,number:this.props.number})),this.props.dragStart()}},{key:"dragEnd",value:function(e){this.props.dragEnd()}},{key:"render",value:function(){var e;switch(this.props.suit){case E:e=a.a.createElement(T,null);break;case O:e=a.a.createElement(I,null);break;case y:e=a.a.createElement(J,null);break;case N:e=a.a.createElement(w,null)}return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"cardFace frontFace",style:{transform:"rotateY(".concat(this.state.rotation,"deg)")},draggable:!1===this.props.locked,onDragStart:this.dragStart,onDragEnd:this.dragEnd},a.a.createElement("div",null,a.a.createElement("h1",{className:this.props.suit},this.props.number),e)),a.a.createElement("div",{className:"cardFace backFace"+(!1===this.props.locked?" pointer":""),style:{transform:"rotateY(".concat(this.state.rotation+180,"deg)")},onClick:this.turn}))}}]),t}(a.a.Component);return Object(h.b)(null,(function(e,t){return{dragStart:function(){e({type:"DRAG_START",suit:t.suit,number:t.number,last:t.last})},dragEnd:function(){e({type:"DRAG_END"})},flop:function(){e({type:"FLOP"})}}}))(e)}(),T=function(e){var t=e.zoom,r=void 0!==t&&t;return a.a.createElement("svg",{className:"suitIcon",width:!0===r?40:20,height:!0===r?40:20,viewBox:"0 0 20 20"},a.a.createElement("path",{className:"heart",d:" M 0 6 A 2.5 2.5 0 0 1 10 6 A 2.5 2.5 0 0 1 20 6 Q 16 14 10 19 Q 4 14 0 6"}))},I=function(e){var t=e.zoom,r=void 0!==t&&t;return a.a.createElement("svg",{className:"suitIcon",width:!0===r?40:20,height:!0===r?40:20,viewBox:"0 0 20 20"},a.a.createElement("path",{className:"tile",d:" M 10 0 Q 13 5 17 10 Q 13 15 10 20 Q 7 15 3 10 Q 7 5 10 0"}))},J=function(e){var t=e.zoom,r=void 0!==t&&t;return a.a.createElement("svg",{className:"suitIcon",width:!0===r?40:20,height:!0===r?40:20,viewBox:"0 0 20 20"},a.a.createElement("circle",{className:"clover",cx:"10",cy:"5",r:"4.5"}),a.a.createElement("circle",{className:"clover",cx:"5",cy:"11",r:"4.5"}),a.a.createElement("circle",{className:"clover",cx:"15",cy:"11",r:"4.5"}),a.a.createElement("polygon",{className:"clover",points:"10 10, 13 20, 7 20"}))},w=function(e){var t=e.zoom,r=void 0!==t&&t;return a.a.createElement("svg",{className:"suitIcon",width:!0===r?40:20,height:!0===r?40:20,viewBox:"0 0 20 20"},a.a.createElement("path",{className:"pike",d:" M 0 12 A 2.5 2.5 0 0 0 10 12 A 2.5 2.5 0 0 0 20 12 Q 16 4 10 0 Q 4 4 0 12"}),a.a.createElement("polygon",{className:"pike",points:"10 10, 13 20, 7 20"}))},R=function(){var e=function(e){function t(e){var r,n=e.pileType,a=e.pileIndex,u=e.visible,i=e.drop;return Object(l.a)(this,t),(r=Object(m.a)(this,Object(p.a)(t).call(this,{pileType:n,pileIndex:a,visible:u,drop:i}))).allowDrop=r.allowDrop.bind(Object(b.a)(r)),r.drop=r.drop.bind(Object(b.a)(r)),r}return Object(f.a)(t,e),Object(d.a)(t,[{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"drop",value:function(e){e.preventDefault();var t=JSON.parse(e.dataTransfer.getData("text"));this.props.drop(t.suit,t.number)}},{key:"render",value:function(){return a.a.createElement("div",{className:"dropTarget",style:{visibility:this.props.visible?"visible":"hidden"},onDrop:this.drop,onDragOver:this.allowDrop},a.a.createElement("h1",null,"+"))}}]),t}(a.a.Component);return Object(h.b)(null,(function(e,t){return{drop:function(r,n){e({type:"DRAG_END"}),e({type:"DROP",targetPileType:t.pileType,targetPileIndex:t.pileIndex,suit:r,number:n})}}}))(e)}(),P=function(){var e=function(){var e=function(){for(var e=[],t=2;t<=14;t++){var r=t;11===t&&(r="J"),12===t&&(r="Q"),13===t&&(r="K"),14===t&&(r="A"),e.push({suit:E,number:r}),e.push({suit:O,number:r}),e.push({suit:y,number:r}),e.push({suit:N,number:r})}return e}();return function(e){for(var t=e.length;t;t--){var r=Math.floor(Math.random()*t),n=[e[r],e[t-1]];e[t-1]=n[0],e[r]=n[1]}}(e),e}();function t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(o.a)({},e.shift(),{turned:!0,locked:!1,last:!0}):Object(o.a)({},e.shift(),{turned:!1,locked:!0,last:!1})}var r={tableau:[{drop:!1,cards:[t(e,!0)]},{drop:!1,cards:[t(e),t(e,!0)]},{drop:!1,cards:[t(e),t(e),t(e,!0)]},{drop:!1,cards:[t(e),t(e),t(e),t(e,!0)]},{drop:!1,cards:[t(e),t(e),t(e),t(e),t(e,!0)]},{drop:!1,cards:[t(e),t(e),t(e),t(e),t(e),t(e,!0)]},{drop:!1,cards:[t(e),t(e),t(e),t(e),t(e),t(e),t(e,!0)]}],stock:{rest:Object(c.a)(e.map((function(e){return{suit:e.suit,number:e.number,turned:!1,locked:!1,last:!1}}))),flopped:[]},foundation:[{drop:!1,cards:[]},{drop:!1,cards:[]},{drop:!1,cards:[]},{drop:!1,cards:[]}]},n=Object(v.b)({stock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.stock,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FLOP":var n=[].concat(Object(c.a)(e.flopped.map((function(e){return{suit:e.suit,number:e.number,turned:!1,locked:!1}}))),Object(c.a)(e.rest)),a=[],u=n.pop();return void 0!==u&&a.push(Object.assign({},u,{turned:!0,locked:!1,last:!0})),{rest:n,flopped:a};case"DROP":var i=e.flopped[e.flopped.length-1];if(void 0!==i&&i.suit===t.suit&&i.number===t.number){var s=[];return e.flopped.length>2&&(s=s.concat(e.flopped.slice(0,-2))),e.flopped.length>1&&s.push(Object.assign({},e.flopped[e.flopped.length-2],{locked:!1,last:!0})),{rest:e.rest,flopped:s}}return e;default:return e}},foundation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.foundation,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DRAG_START":{if(!0!==t.last)return e;function n(e,t){return void 0===e&&"A"===t.number||void 0!==e&&(e.suit===t.suit&&("A"===e.number&&2===t.number||10===e.number&&"J"===t.number||"J"===e.number&&"Q"===t.number||"Q"===e.number&&"K"===t.number||e.number+1===t.number))}var a={suit:t.suit,number:t.number};return e.map((function(e){return{drop:n(e.cards[e.cards.length-1],a),cards:Object(c.a)(e.cards)}}))}case"DRAG_END":return e.map((function(e){return{drop:!1,cards:Object(c.a)(e.cards)}}));case"DROP":{function n(e,t,r){return void 0!==e&&e.suit===t&&e.number===r}var u=e.findIndex((function(e){return n(e.cards[e.cards.length-1],t.suit,t.number)}));return e.map((function(e,r){if(t.targetPileType===g&&t.targetPileIndex===r)return{drop:!1,cards:[].concat(Object(c.a)(e.cards.map((function(e){return{suit:e.suit,number:e.number,turned:!0,locked:!0,last:!1}}))),[{suit:t.suit,number:t.number,turned:!0,locked:!1,last:!0}])};if(void 0!==u&&u===r){var n=[];return e.cards.length>2&&(n=n.concat(e.cards.slice(0,-2))),e.cards.length>1&&n.push(Object.assign({},e.cards[e.cards.length-2],{locked:!1,last:!0})),{drop:!1,cards:n}}return e}))}default:return e}},tableau:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.tableau,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DRAG_START":{function n(e,t){return void 0===e&&"K"===t.number||void 0!==e&&(("K"===e.number&&"Q"===t.number||"Q"===e.number&&"J"===t.number||"J"===e.number&&10===t.number||e.number===t.number+1)&&((e.suit===E||e.suit===O)&&(t.suit===y||t.suit===N)||(e.suit===y||e.suit===N)&&(t.suit===E||t.suit===O)))}var a={suit:t.suit,number:t.number};return e.map((function(e){return{drop:n(e.cards[e.cards.length-1],a),cards:Object(c.a)(e.cards)}}))}case"DRAG_END":return e.map((function(e){return{drop:!1,cards:Object(c.a)(e.cards)}}));case"DROP":{function n(e,t,r){return void 0!==e&&e.suit===t&&e.number===r}var u=e.reduce((function(e,r){var a=r.cards.findIndex((function(e){return n(e,t.suit,t.number)}));if(-1!==a){var u=[];a>1&&(u=u.concat(r.cards.slice(0,a-1).map((function(e){return{suit:e.suit,number:e.number,turned:e.turned,locked:e.locked,last:!1}})))),a>0&&u.push(Object.assign({},r.cards[a-1],{locked:!1,last:!0})),e[0].push({drop:!1,cards:u}),e[1]=r.cards.slice(a).map((function(e){return{suit:e.suit,number:e.number,turned:!0,locked:!1,last:e.last}}))}else e[0].push(r);return e}),[[],[{suit:t.suit,number:t.number,turned:!0,locked:!1,last:!0}]]),i=Object(s.a)(u,2),o=i[0],l=i[1];return t.targetPileType===k?(o[t.targetPileIndex]={drop:!1,cards:o[t.targetPileIndex].cards.map((function(e){return{suit:e.suit,number:e.number,turned:e.turned,locked:e.locked,last:!1}})).concat(l)},o):o}default:return e}}});return Object(v.c)(n)}();var Q=function(){return a.a.createElement(h.a,{store:P},a.a.createElement(j,null))};i.a.render(a.a.createElement(Q,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.041b555f.chunk.js.map